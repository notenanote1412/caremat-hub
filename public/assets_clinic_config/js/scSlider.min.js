!(function (e) {
  e.fn.scSlider = function (t) {
    var n = {
      duration: 250,
      polling: 100,
      noSpaceAtEnd: !0,
      autoSize: 'selected',
      direction: 'horizontal',
      url: null,
      loadMethod: 'cascade',
      selected: 0,
      selectedInPlace: 1,
      selectedCss: 'selected',
      itemWidth: null,
      itemCss: 'slider-item',
      itemSelector: 'div',
      onBeforeSelect: null,
      onAfterSelect: null,
      onAfterLoad: null,
      onSlide: null,
      onDraw: null,
    }
    return this.each(function () {
      var i = function () {
          var i = e.extend({}, n, t)
          return (
            e.each(i, function (e) {
              void 0 !== S.data(e.toLowerCase()) &&
                (i[e] = S.data(e.toLowerCase()))
            }),
            i.duration < 0 && (i.duration = 0),
            0 != i.noSpaceAtEnd && (i.noSpaceAtEnd = !0),
            i.polling < 0 && (i.polling = 0),
            i.selected < 0 && (i.selected = 0),
            i.selectedInPlace < 1 && (i.selectedInPlace = 1),
            'vertical' != i.direction && (i.direction = 'horizontal'),
            'ondemand' != i.loadMethod && (i.loadMethod = 'cascade'),
            '' == i.itemSelector && (i.itemSelector = 'div'),
            'string' === e.type(i.onBeforeSelect) &&
              (i.onBeforeSelect = window[i.onBeforeSelect]),
            'string' === e.type(i.onAfterSelect) &&
              (i.onAfterSelect = window[i.onAfterSelect]),
            'string' === e.type(i.onAfterLoad) &&
              (i.onAfterLoad = window[i.onAfterLoad]),
            'string' === e.type(i.onSlide) && (i.onSlide = window[i.onSlide]),
            'string' === e.type(i.onDraw) && (i.onDraw = window[i.onDraw]),
            i
          )
        },
        o = function () {
          return 'horizontal' == g.direction
        },
        r = function () {
          return 'selected' == g.autoSize || 'visible' == g.autoSize
        },
        s = function () {
          return e(
            e.grep(C, function (t) {
              return e(t).is(':visible')
            })
          )
        },
        a = function (t) {
          return (
            t > A.length - 1 && (t = A.length - 1),
            (!e.isNumeric(t) || 0 > t) && (t = 0),
            t
          )
        },
        l = function () {
          var t = S[o() ? 'width' : 'height']()
          A.each(function () {
            ;('undefined' === this.scDimension || null == this.scDimension) &&
              (this.scDimension = this.style[o() ? 'width' : 'height'])
            var n = g.itemWidth || this.scDimension
            if (-1 != n.indexOf('%')) {
              var i = parseFloat(n) / 100
              n = t * i
            }
            null != n &&
              '' != n &&
              e(this)[o() ? 'outerWidth' : 'outerHeight'](n, !0)
          })
        },
        c = function (t) {
          for (var n = 0, i = null == t ? A.length : t, r = 0; i > r; r++) {
            var s = A[r]
            n += e(s)[o() ? 'outerWidth' : 'outerHeight'](!0)
          }
          return Math.ceil(n)
        },
        d = function (t) {
          return jQuery.isFunction(g.onBeforeSelect) &&
            0 == g.onBeforeSelect.apply(S[0], [w, t])
            ? !1
            : ((w = t),
              A.removeClass(g.selectedCss),
              e(A[w]).addClass(g.selectedCss),
              jQuery.isFunction(g.onAfterSelect) &&
                g.onAfterSelect.apply(S[0], [w]),
              !0)
        },
        u = function (t) {
          var n = c(t),
            i = c(),
            r = e(A[t]),
            s = 0
          if (0 != g.selectedInPlace) {
            var a = t - (g.selectedInPlace - 1)
            0 > a && (a = 0), (s = -c(a))
          } else {
            var a = n - y.position()[o() ? 'left' : 'top']
            s =
              0 > a
                ? -n
                : -n +
                  (S[o() ? 'width' : 'height']() -
                    r[o() ? 'width' : 'height']())
          }
          if (g.noSpaceAtEnd) {
            var l = S[o() ? 'width' : 'height'](),
              d = l - (s + i)
            d > 0 && (s += d)
          }
          s > 0 && (s = 0)
          var l = r[o() ? 'outerWidth' : 'outerHeight'](!0)
          return l > s + i && (s = -i + l), s
        },
        h = function (t) {
          var n = 0
          if ('selected' == g.autoSize) {
            var i = e(A[w])
            n = i[o() ? 'outerHeight' : 'outerWidth'](!0)
          }
          return (
            'visible' == g.autoSize &&
              A.each(function (i, r) {
                var s = e(r),
                  a = s.position()[o() ? 'left' : 'top'],
                  l = a + t,
                  c = l + s[o() ? 'outerWidth' : 'outerHeight'](!0)
                if (l + 1 >= 0 && c - 1 < S[o() ? 'width' : 'height']()) {
                  var d = s[o() ? 'outerHeight' : 'outerWidth'](!0)
                  d > n && (n = d)
                }
              }),
            n
          )
        },
        f = function (e, t) {
          var n = {}
          r() && (n[o() ? 'height' : 'width'] = t),
            (n[o() ? 'left' : 'top'] = e),
            (m = !0),
            y.animate(n, {
              duration: g.duration,
              complete: function () {
                ;(m = !1),
                  jQuery.isFunction(g.onSlide) && g.onSlide.apply(S[0], [w])
              },
            })
        },
        v = function (e) {
          if (r()) {
            var t = h(e)
            y[o() ? 'height' : 'width'](t)
          }
        },
        p = function () {
          function t() {
            for (var e = 0; e < A.length; e++) if (1 != A[e].scLoaded) return e
            return -1
          }
          if (null != g.url) {
            var n = -1
            switch (g.loadMethod) {
              case 'cascade':
                n = t()
                break
              case 'ondemand':
                1 != A[w].scLoaded && (n = w)
            }
            ;-1 != n &&
              e
                .ajax({
                  type: 'POST',
                  url: g.url,
                  contentType: 'application/json; charset=utf-8',
                  data: '{ index: ' + n + ' }',
                  dataType: 'json',
                  index: n,
                })
                .done(function (t) {
                  var n = A[this.index]
                  ;(n.scLoaded = !0), (n.innerHTML = t.d)
                  var i = u(w)
                  v(i),
                    e.isFunction(g.onAfterLoad) && g.onAfterLoad(this.index, n),
                    p()
                })
          }
        }
      if (
        ((this.slideTo = function (e) {
          if ((p(), (e = a(e)), e != w && d(e))) {
            var t = u(e),
              n = h(t)
            f(t, n)
          }
        }),
        (this.next = function () {
          this.slideTo(w + 1)
        }),
        (this.prev = function () {
          this.slideTo(w - 1)
        }),
        (this.getItem = function (e) {
          return null == e
            ? A
            : 1 == e
            ? C
            : (0 > e && (e = 0), e > A.length - 1 && (e = A.length - 1), A[e])
        }),
        (this.redraw = function () {
          ;(A = s()), l(), y[o() ? 'width' : 'height'](c() + 1)
          var t = u(w)
          m || y.css(o() ? 'left' : 'top', t),
            v(t),
            A.removeClass(g.selectedCss),
            e(A[w]).addClass(g.selectedCss),
            jQuery.isFunction(g.onDraw) && g.onDraw.apply(this, [])
        }),
        (this.currentIndex = function () {
          return w
        }),
        (this.isFirst = function () {
          return 0 == w
        }),
        (this.isLast = function () {
          return w == A.length - 1
        }),
        'scSlider' != this.pluginName)
      ) {
        var S = e(this).css('overflow', 'hidden'),
          g = i(),
          w = g.selected,
          m = !1,
          C = S.children(g.itemSelector)
            .css({ position: 'relative', float: o() ? 'left' : 'none' })
            .addClass(g.itemCss),
          y = e('<div>')
            .css({
              position: 'relative',
              className: S.css('class'),
              overflow: r() ? 'hidden' : 'visible',
            })
            .appendTo(S)
            .append(C)
        S.css('class', '')
        var A = s()
        A.first().addClass(g.selectedCss),
          (w = a(w)),
          this.redraw(),
          p(),
          e(window).on('resize', function () {
            S[0].redraw()
          })
        var L = function (t, n) {
          var i = function (t) {
              var n = e(t)
              return [
                n.is(':visible'),
                Math.round(n.outerHeight(!0)),
                Math.round(n.outerWidth(!0)),
              ].join('|')
            },
            o = function (t, n) {
              e.each(t, function (e, t) {
                var o = i(t)
                o != t.scObserverCurrentStatus &&
                  ((t.scObserverCurrentStatus = o), n(t))
              })
            },
            r = []
          return (
            n > 0 &&
              setInterval(function () {
                o(r, t)
              }, n),
            (this.add = function (t) {
              if (null != t) {
                var n = e(t)
                e.each(n, function (e, t) {
                  t.scObserverCurrentStatus = i(t)
                }),
                  n.each(function (e, t) {
                    r.push(t)
                  })
              }
              return this
            }),
            this
          )
        }
        new L(function () {
          S[0].redraw()
        }, g.polling)
          .add(r() ? C : null)
          .add(S.parent()),
          (this.company = 'Samuele Carassai'),
          (this.version = '1.0.0'),
          (this.pluginName = 'scSlider')
      }
    })
  }
})(jQuery),
  $(function () {
    $("[data-target='scSlider']").scSlider()
  })
